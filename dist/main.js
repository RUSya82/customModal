(()=>{"use strict";class t{constructor({modalID:t="customModal",modalSelector:o=".custom-modal",buttonsClassName:e="custom-modal-activator",modalActiveClass:s="show",modalContentClass:l="custom-modal-content",buttonCloseClass:a="custom-modal-close",useEscape:d=!0,useFadeCLose:n=!0}){try{if(this.modalID=t,this.modal=document.querySelector(o),e&&(this.modalActivators=document.querySelectorAll("."+e)),this.modalActiveClass=s,this.modalContentClass=l,this.buttonCloseClass=a,this.useEscape=d,this.useFadeCLose=n,!this.modal)throw new Error("Modal not found");this.init()}catch(t){console.warn(t)}}init(){this.addListener()}addListener(){this.modalActivators.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),this.openModal()}))})),this.modal.addEventListener("click",(t=>{let o;o=!this.useFadeCLose||t.target.closest(`.${this.modalContentClass}`);const e=t.target.closest(`.${this.buttonCloseClass}`);o&&!e||this.closeModal()})),this.useEscape&&document.addEventListener("keydown",(t=>{"Escape"===t.key&&this.closeModal()}))}openModal(t=(()=>this.blockBody())){this.modal.classList.add(this.modalActiveClass),t()}closeModal(t=(()=>this.unBlockBody())){this.modal.classList.remove(this.modalActiveClass),t()}openModalWithTimer(t){this.openModal((()=>{setTimeout((()=>{this.closeModal()}),t)}))}calcScroll(){let t=0;if(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)>document.documentElement.clientHeight){let o=document.createElement("div");o.style.width="500px",o.style.height="500px",o.style.overflowY="scroll",o.style.visibility="hidden",document.body.appendChild(o),t=o.offsetWidth-o.clientWidth,o.remove()}return t}toggleLockBody(){const t=document.body;t.classList.toggle("lock");const o=this.calcScroll();t.classList.contains("lock")?t.style.marginRight=`${o}px`:t.style.marginRight="0"}blockBody(){const t=document.body;t.style.overflow="hidden";const o=this.calcScroll();t.style.marginRight=`${o}px`}unBlockBody(){setTimeout((()=>{const t=document.body;t.style.overflow="auto",t.style.marginRight="0"}),200)}static modalGetInstance(){const o=[];return function(e){let s=o.find((t=>t.modalID===e.modalID));if(s)return s;{const s=new t(e);return o.push(s),s}}}}const o=t.modalGetInstance();o({modalID:"modalForm",modalSelector:".modal-form",buttonsClassName:"modal1-activator",modalActiveClass:"show",modalContentClass:"modal-content",buttonCloseClass:"modal-close"}),o({modalID:"modalThanks",modalSelector:".modal-thanks",modalActiveClass:"show",modalContentClass:"modal-content",buttonsClassName:null}),o({modalID:"modalDublicate"}),(()=>{const t=document.querySelector(".modal-form"),e=o({modalID:"modalForm"}),s=o({modalID:"modalThanks"});t.addEventListener("submit",(t=>{t.preventDefault(),setTimeout((()=>{e.closeModal((()=>{s.openModal(),setTimeout((()=>{s.closeModal()}),2e3)}))}),1e3)}))})()})();