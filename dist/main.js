(()=>{"use strict";class t{constructor({modalID:t="modal",modalSelector:o=".modal",buttonsClassName:e="modal-activator",modalActiveClass:l="modal-active",modalContentClass:s="modal-content",buttonCloseClass:a="modal-close",useEscape:d=!0,useFadeCLose:c=!0}){try{if(this.modalID=t,this.modal=document.querySelector(o),this.modalActivators=document.querySelectorAll("."+e),this.modalActiveClass=l,this.modalContentClass=s,this.buttonCloseClass=a,this.useEscape=d,this.useFadeCLose=c,!this.modal)throw new Error("Modal not found");this.init()}catch(t){console.warn(t)}}init(){this.addListener()}addListener(){this.modalActivators.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),this.openModal()}))})),this.modal.addEventListener("click",(t=>{let o;o=!this.useFadeCLose||t.target.closest(`.${this.modalContentClass}`);const e=t.target.closest(`.${this.buttonCloseClass}`);o&&!e||this.closeModal()})),this.useEscape&&document.addEventListener("keydown",(t=>{"Escape"===t.key&&this.closeModal()}))}openModal(t=(()=>this.blockBody())){this.modal.classList.add(this.modalActiveClass),t()}closeModal(t=(()=>this.unBlockBody())){this.modal.classList.remove(this.modalActiveClass),t()}openModalWithTimer(t){this.openModal((()=>{setTimeout((()=>{this.closeModal()}),t)}))}calcScroll(){let t=0;if(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)>document.documentElement.clientHeight){let o=document.createElement("div");o.style.width="500px",o.style.height="500px",o.style.overflowY="scroll",o.style.visibility="hidden",document.body.appendChild(o),t=o.offsetWidth-o.clientWidth,o.remove()}return t}toggleLockBody(){const t=document.body;t.classList.toggle("lock");const o=this.calcScroll();t.classList.contains("lock")?t.style.marginRight=`${o}px`:t.style.marginRight="0"}blockBody(){const t=document.body;t.style.overflow="hidden";const o=this.calcScroll();t.style.marginRight=`${o}px`}unBlockBody(){setTimeout((()=>{const t=document.body;t.style.overflow="auto",t.style.marginRight="0"}),200)}static modalGetInstance(){const o=[];return function(e){let l=o.find((t=>t.modalID===e.modalID));if(l)return l;{const l=new t(e);return o.push(l),l}}}}const o=t.modalGetInstance();o({modalID:"modalForm",modalSelector:".modal-form",buttonsClassName:"modal1-activator",modalActiveClass:"show",modalContentClass:"modal-content",buttonCloseClass:"modal-close"}),o({modalID:"modalThanks",modalSelector:".modal-thanks",modalActiveClass:"show"}),o({modalID:"modalDublicated",modalSelector:".modal-dublicated",modalActiveClass:"show",buttonsClassName:"modal2-activator",modalContentClass:"modal-content",buttonCloseClass:"modal-close"}),(()=>{const t=document.querySelector(".modal-form"),e=o({modalID:"modalForm"}),l=o({modalID:"modalThanks"});t.addEventListener("submit",(t=>{t.preventDefault(),setTimeout((()=>{e.closeModal((()=>{l.openModal(),setTimeout((()=>{l.closeModal()}),2e3)}))}),1e3)}))})()})();